---
import Layout from '../layouts/Layout.astro';
import DynamicResults from '../components/DynamicResults';

// Get URL params
const url = new URL(Astro.request.url);
const firstName = url.searchParams.get('firstName') || 'there';
const score = parseInt(url.searchParams.get('score') || '50');
const industry = url.searchParams.get('industry') || 'other';
const books = url.searchParams.get('books') || '';
const frustration = url.searchParams.get('frustration') || '';
const opportunity = url.searchParams.get('opportunity') || '';
const time = url.searchParams.get('time') || '';
const entities = url.searchParams.get('entities') || '';
const painLevel = url.searchParams.get('pain') || 'medium';
---

<Layout title="Your Results â€” Route One Advisory">
  <main class="min-h-dvh px-6 py-12">
    <div class="max-w-3xl mx-auto">
      <DynamicResults 
        client:load
        firstName={firstName}
        score={score}
        industry={industry}
        books={books}
        frustration={frustration}
        opportunity={opportunity}
        time={time}
        entities={entities}
        painLevel={painLevel}
      />
    </div>
  </main>
</Layout>
